# 專案進度記錄（簡易版）

> 這份文件記錄我們做了什麼、討論了什麼、做了什麼決定

---

## 專案基本資訊

| 項目 | 內容 |
|------|------|
| 專案名稱 | 婦產科胚胎著床預測 |
| 開始日期 | 2025-01-25 |
| 目標 | 用 AI 預測胚胎能不能成功著床 |
| 團隊成員 | （請填寫）|

---

## 重要里程碑

| 日期 | 完成了什麼 | 狀態 |
|------|-----------|------|
| 2025-01-25 | 建立專案架構、文件系統 | ✅ 完成 |
| 2025-01-26 | 建立第一個 AI 模型 (EXP-001) | ✅ 完成 |
| 2025-01-30 | 模型比較實驗 (EXP-002, EXP-003) | ✅ 完成 |
| | 調整判斷閾值分析 | ⏳ 待開始 |
| | 完成最終報告 | ⏳ 待開始 |

---

## 討論記錄

---

### 第 1 次討論 - 2025-01-25

#### 這次做了什麼

1. **了解資料集**
   - 總共有 1020 張胚胎照片
   - 840 張訓練用，180 張測試用
   - 照片分成 D3（第3天）和 D5（第5天）兩種

2. **發現重要問題**
   - 資料不平衡！「會著床」的只有 15%，「不會著床」的有 85%
   - 這會讓 AI 偏向猜「不會著床」

3. **建立專案管理系統**
   - 建立資料夾結構
   - 建立記錄文件
   - 設定 Git 和 GitHub

#### 做了什麼決定

- ✅ 用版本管理來追蹤每次資料處理
- ✅ 每次實驗都要記錄，方便追溯
- ✅ 原始資料絕對不能改

#### 下一步要做什麼

- [ ] 做資料探索分析 (EDA)
- [ ] 決定怎麼處理資料不平衡的問題
- [ ] 建立第一個基準模型

---

### 第 2 次討論 - 2025-01-26

#### 這次做了什麼

1. **建立第一個 AI 模型**
   - 寫了訓練程式碼 (01_baseline_training.ipynb)
   - 在 Google Colab 上執行訓練
   - 使用 ResNet18 模型 + 類別加權

2. **得到第一個結果 (EXP-001)**
   - AUC：0.80（還不錯！）
   - 會著床的猜對率：76%（比預期好很多！）
   - 猜對精準度：50%（有改進空間）

#### 做了什麼決定

- ✅ 用 Google Colab 跑訓練（免費 GPU）
- ✅ 用「類別加權」處理資料不平衡 → 效果不錯！
- ✅ 先跑 20 輪訓練看效果

#### 下一步要做什麼

- [ ] 嘗試改進模型（目標：AUC > 0.85）
- [ ] 調整判斷閾值，看能不能減少誤報
- [ ] 試試其他 AI 模型

---

### 第 3 次討論 - 2025-01-30

#### 這次做了什麼

1. **嘗試更好的模型 (EXP-002)**
   - 把 ResNet18 換成 EfficientNet-B0
   - 結果：AUC 提升到 0.83（最高！），但 Recall 下降到 64%

2. **嘗試 Focal Loss (EXP-003)**
   - 用 Focal Loss 取代原本的損失函數
   - 結果：效果不如預期，AUC 下降到 0.80

3. **三次實驗結果比較**

   | 實驗 | 模型 | AUC | Recall | F1-Score |
   |------|------|-----|--------|----------|
   | EXP-001 | ResNet18 | 0.80 | **76%** | **0.60** |
   | EXP-002 | EfficientNet | **0.83** | 64% | **0.60** |
   | EXP-003 | EfficientNet + Focal Loss | 0.80 | 68% | 0.59 |

#### 做了什麼決定

- ✅ EfficientNet 的 AUC 較高，但 Recall 下降（有 trade-off）
- ✅ Focal Loss 在這個小資料集上效果不好
- ✅ 目前最佳：EXP-001（Recall 最高）或 EXP-002（AUC 最高）

#### 下一步要做什麼

- [ ] 調整判斷閾值，看能不能讓 EXP-002 兼得高 AUC + 高 Recall
- [ ] 嘗試更強的資料增強

---

## 待辦事項總覽

### 急需處理
- [ ] 調整判斷閾值（分析不同閾值對 Recall/Precision 的影響）

### 近期要做
- [ ] 決定最終要用哪個模型
- [ ] 嘗試更強的資料增強

### 已完成
- [x] 改進模型效能（EXP-002, EXP-003）
- [x] 嘗試其他模型（EfficientNet）
- [x] 嘗試 Focal Loss

### 之後再做
- [ ] 撰寫報告
- [ ] 準備發表

---

## 問題與解決方案

| 遇到的問題 | 怎麼解決 | 狀態 |
|-----------|---------|------|
| 資料不平衡（15% vs 85%）| 用「類別加權」讓 AI 更重視少數類 | ✅ 已解決 |
| Precision 只有 50%（誤報多）| 待嘗試調整判斷閾值 | ⏳ 待處理 |
| AUC 和 Recall 難以兼得 | EXP-001 Recall 高、EXP-002 AUC 高，需選擇 | ⚠️ 需決策 |
| Focal Loss 效果不好 | 在小資料集上不適用，改回類別加權 | ✅ 已確認 |

---

## 備註

- 訓練環境：Google Colab (T4 GPU)
- 第一個模型訓練時間：約 10-20 分鐘
- 模型檔案存在 Colab 上（best_model.pth）
